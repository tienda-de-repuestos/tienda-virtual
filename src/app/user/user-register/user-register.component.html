
<div class="container">
  <div class="row">
    <form (ngSubmit)="guardarUser(formNew)"  #formNew="ngForm" class="col s12">
      <div class="row">
        <div class="input-field col s6">
          <i class="material-icons prefix">account_circle</i>
          <input [(ngModel)]="user.nombre" #nombre="ngModel" name="nombre" id="nombre" type="text" class="validate" required>
          <label for="nombre">Nombre</label>
          <div *ngIf="nombre.touched && !nombre.valid">
              <div *ngIf="nombre?.errors.required" class="error">inserte nombre</div>
          </div>
        </div>
        <div class="input-field col s6">
          <input [(ngModel)]="user.apellidos" #apellidos="ngModel" name="apellidos" id="apellidos" type="text" class="validate" required>
          <label for="apellidos">Apellidos</label>
          <div *ngIf="apellidos.touched && !apellidos.valid">
              <div *ngIf="apellidos?.errors.required" class="error">inserte apellidos</div>
          </div>
        </div>
      </div>
      <div class="row">
          <div class="input-field col s9">
            <i class="material-icons prefix">mail</i>
            <input [(ngModel)]="user.mail" #mail="ngModel" name="mail" id="mail" type="email" class="validate" required>
            <label for="mail">Email</label>
            <span class="helper-text" data-error="email invalido" data-success=""></span>
          </div>
          <div class="input-field col s3">
              <input [(ngModel)]="user.fechNac" #fechNac="ngModel" name="fechNac" id="datepicker"type="text" class="validate" placeholder="dd/mm/yyyy" required>
              <label for="datepicker">FechNac</label>
              <span class="helper-text" data-error="fecha invalida" data-success="right">Helper text</span>
          </div>
        </div>
      <div class="row">
        <div class="input-field col s12">
          <input [(ngModel)]="user.password" #password="ngModel" name="password" id="password" type="password" class="validate" minlength="8" maxlength="16" required>
          <label for="password">Password</label>
          <div *ngIf="password.touched && !password.valid">
              <div *ngIf="password?.errors.required" class="error">se requiere contraseña</div>
              <div *ngIf="password?.errors.minlength" class="error">minimo 8 caracteres</div>
          </div>
        </div>
        <div class="input-field col s12">
            <input [(ngModel)]="user.confPassword" #confPassword="ngModel" appConfirmEqualValidator="password" name="confPassword" id="confPassword" type="password" class="validate" required>
            <label for="confPassword">Confirmar Password</label>
            <div *ngIf="confPassword.touched && confPassword?.errors.required">
                <div class="error">se requiere confirmar</div>
            </div>
            <div *ngIf="confPassword.touched && confPassword?.errors?.notEqual && !confPassword?.errors.required">
                <div class="error">contraseña no coincide</div>
            </div>
          </div>
      </div>
      <div class="row">
        <div class="input-field col s6">
          <i class="material-icons prefix">phone</i>
          <input [(ngModel)]="user.telefono" #telefono="ngModel" placeholder="" name="telefono" id="telefono" type="number">
          <label for="telefono">Telefono</label>
        </div>
        <div class="input-field col s6">
          <input [(ngModel)]="user.direccion" #direccion="ngModel" name="direccion" id="direccion" type="text">
          <label for="direccion">Direccion</label>
        </div>
      </div>
      <div>
          <div *ngIf="!formNew?.valid && formNew.touched" class="error">
            Error campos vacios o invalidos
          </div>
      </div>
      <div>
        <button class="button-reg btn waves-effect waves-light" type="submit" name="formNew">Registrar
         <i class="material-icons right">send</i>
        </button>  
        <button routerLink="" type="button" class="button-cancel btn">Cancelar</button>
      </div>
    </form>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.datepicker');
    var instances = M.Datepicker.init(elems, options);
  });
</script>
 
